---
title: C语言环境配置和vscode
top: false
comments: true
categories:
  - 环境配置
tags:
  - 环境配置
  - 教程
abbrlink: 5c417394
date: 2020-06-06 16:03:20
---

> **C语言环境配置和vsc**

<!--more--->

## 一：安装MinGW-w64编译器套件

### 1.1 下载安装

本文提到的MinGW-w64是一个著名项目为Windows 64位平台提供的一套编译器，它也受到了微软官方文档的推荐，相关文件托管在SourceForge的网站上，下载地址为：https://sourceforge.net/projects/mingw-w64/files/    

![](http://photo.jomeswang.top/20200606004628.png)

点击下载即可，之后解压,将里面的  `mingw64`  放至C盘根目录像这个样子

![](http://photo.jomeswang.top/20200606004749.png)

### 1.2 配置环境变量

进入页面

![](http://photo.jomeswang.top/20200606004937.png)

选中Path进行编辑![](http://photo.jomeswang.top/20200606005040.png)

将刚刚的路径填进去如果你也是放在C盘的话，像这样子做

![](http://photo.jomeswang.top/20200606005147.png)

最后为了验证之前操作是否正确，我们需要实际访问一下那些编译器。还是在搜索框中，输入“cmd”，启动“命令提示符”，在命令窗口中输入以下命令并回车

```
gcc --version
```


如果结果如图所示，你的编译器就安装成功了。如果失败，请回头检查你添加的路径是否生效且与实际相符；或者请卸载你参考其他教程安装的老式MinGW编译器并清除其添加在Path中的路径。

![](http://photo.jomeswang.top/20200606005245.png)



## 二：安装VS Code文本编辑器

> 众多专用的编辑器被开发出来，以提供代码高亮（根据特定语言的语法给代码染色，便于阅读）、语法错误检查（在编译前提示错字漏字、不合规的语句等错误）、断点调试、多文件的管理等辅助功能。

在这里进入官网，下载即可：https://code.visualstudio.com/

根据你的平台选择适合的版本，下载下来安装即可。安装完打开大概是这样的，

![](http://photo.jomeswang.top/20200606091756.png)

1. 初始启动页应该是英文，如果需要中文，点击左侧四个小方块组成的按钮“插件管理器”，在搜索栏中输入"Chinese"，找到汉化插件，安装即可。
2. 安装完后，由于我们需要配置C/C++环境，所以请再次搜索"C/C++"，安装这个插件。

![](http://photo.jomeswang.top/20200606091957.png)

3.修改完环境变量、安装或更新完插件后，务必重启VS Code。这类属于编辑器环境的东西，大都需重启软件才能生效。

## 三：配置C/C++环境

这里实际上就是VS Code的具体用法，原则上并无固定章法，但几个基本点有必要提及一下：

1. 脑子里要有源代码文件这个概念。写程序不是说就在框框里写一堆代码然后就能跑了！代码都要写成文件保存起来（到硬盘里），然后才有后续的工作；
2. VS Code是支持多语言的编辑器，并不只为C/C++服务，所以还要确保把代码文件的后缀名写对，C语言的后缀名是.c，C++的是.cpp。这是VS Code区分你代码类型的标志；
3. 上面安装的"C/C++"插件提供了对这两门语言的基本支持。C跟C++是两门不同的语言，请向你的老师问清楚学的是哪一门。无论是在.c文件里敲C++代码，还是在.cpp文件里敲C代码，都是自掘天坑的行为。
4. 编写C/C++程序有两个基本步骤，一是把代码文件变成程序文件，这叫编译或生成，是调用最开始安装的编译器做的事；二才是把刚刚生成的程序跑起来，这叫执行，是操作系统做的事；
5. 这两个基本步骤，一般都是在命令行的环境下进行，输入输出也是在这里面。VS Code的优势之一，就是把系统的命令行集成进了软件内部，名唤“终端”，从而不必再开新窗口。

接下来，是要利用"C/C++"插件预定义好了的配置，稍作修改以满足我们的需要。按快捷键【Ctrl】【Shift】+【P】，打开命令面板，输入关键词"C/C++"，在弹出的诸命令中选择编辑配置 (UI)或者Edit Configurations (UI)，将弹出"C/C++"给我们的默认配置（JSON那个操作难度较大，有兴趣的可自行研究）。

![](http://photo.jomeswang.top/20200606092350.png)

诸配置中最重要的是编译器路径和IntelliSense模式这两项，两者在右侧都有下拉三角。如果前面你正确配置了环境变量，路径的待选项中就会包含几个正确的编译器路径，编写C程序请选择gcc.exe，C++则选择g++.exe；模式选择gcc-x64。

## 四：编写"Hello World"程序

到工作文件夹中添加一个源代码文件，命名为hello.c（或者任意你喜欢的名字，但注意后缀名.c别忘了打上），

我这里的示例是C语言的，要试用C++的请注意后缀名为.cpp，并求教你的老师或自行编写相应代码。

```
#include <stdio.h>

int main(){
    printf("HellO world!");
}
```

![](http://photo.jomeswang.top/20200606093434.png)

输完你的代码后，按快捷键【Ctrl】+【S】保存、之后点击运行，看正不正确。

如果输出乱码：参看这一篇：https://blog.csdn.net/m0_37218227/article/details/103023936
你可以选择开启VS Code的自动保存功能，但手动保存习惯仍是最好的依靠。这里更重要的问题是编译器需要从硬盘中读取你的代码文件，而未保存的代码在硬盘上是未更新的甚至压根不存在，将直接导致接下来的编译掰瞎！这么多提醒你文件没保存的标记要是都看不到就尴尬了。